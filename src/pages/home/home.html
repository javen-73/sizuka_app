<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button ion-button menuToggle>
        <div id="profilePicture"><img [src]="current_user?.profilePicture"></div>
      </button>
    </ion-buttons>
    <ion-title>{{default_account_book?.bookName}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more">
        </ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="下拉刷新"
      refreshingSpinner="circles"
      refreshingText="正在刷新...">
    </ion-refresher-content>
  </ion-refresher>
  <div class="home_title">
    <br/>
    <div class="item_top_center">
      <span class="month_total">{{money_data?.balance}}</span>
    </div>
    <div class="item_top_center">
      本月结余(元)
    </div>
    <br/>
    <div class="top_pre_item">
      {{money_data?.disburse}}
    </div>
    <div class="top_next_item">
      {{money_data?.earn}}
    </div>
    <div class="top_pre_item">
      月支出
    </div>
    <div class="top_next_item">
      月收入
    </div>
  </div>
  <div class="add_bill_button"><span (click)="addBill()"><ion-icon name="add" ></ion-icon>&nbsp;记一笔</span></div>
  <div class="item_border" *ngFor="let i of items">
    <br/>
    <div>
      <span><ion-icon name="i-sizuka-{{i.itemStatus}}"></ion-icon></span>
      <span class="item_type">{{i.itemType}}</span>
      <span><span class="item_right">{{i.price>0?'+':'-'}}{{i.price}}</span></span>
    </div>
    <br/>
    <span class="item_right">{{i.createTime}}</span>
  </div>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
